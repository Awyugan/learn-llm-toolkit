# 在readme中快速批量添加行号import redef add_line_numbers_in_file_final(filename):    # Read the content from the file    with open(filename, 'r', encoding='utf-8') as file:        text = file.read()    # Initialize counters for each level    counters = [0, 0, 0, 0, 0, 0]  # Support up to 6 levels    lines = text.split('\n')    new_lines = []    for line in lines:        level = line.count('#')  # Count the number of '#' to determine the level        # Skip lines without '#', or with only one '#'        if level <= 1:            new_lines.append(line)            continue        # Remove everything between the '##' and the actual title        line = re.sub(r'(#+)\s*.*?([a-zA-Z\u4e00-\u9fa5]+)', r'\1 \2', line)        # Increment the counter for the current level and reset the counters for the deeper levels        counters[level - 2] += 1  # Adjust by 2 to start numbering from second level        for i in range(level - 1, len(counters)):            counters[i] = 0        # Construct the line number code based on the counters        line_number_code = '.'.join([str(counter) for counter in counters if counter > 0])        hash_tags = '#' * level        new_line = line.replace(hash_tags, f"{hash_tags} {line_number_code}", 1)        new_lines.append(new_line)    # Rewrite the file with the formatted text    with open(filename, 'w', encoding='utf-8') as file:        file.write('\n'.join(new_lines))# To process your file:filename = "README.md"add_line_numbers_in_file_final(filename)